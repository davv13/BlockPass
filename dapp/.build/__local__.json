{"compilers":[{"contractTypes":["Vault"],"name":"solidity","settings":{"optimizer":{"enabled":true,"runs":200},"outputSelection":{"contracts\\Vault.sol":{"":["ast"],"*":["abi","bin-runtime","devdoc","userdoc","evm.bytecode.object","evm.bytecode.sourceMap","evm.deployedBytecode.object"]}}},"version":"0.8.29+commit.ab55807c"}],"contractTypes":{"Vault":{"abi":[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"itemId","type":"uint256"},{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"string","name":"cid","type":"string"},{"indexed":false,"internalType":"string","name":"title","type":"string"}],"name":"ItemCreated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"itemId","type":"uint256"},{"indexed":true,"internalType":"address","name":"owner","type":"address"}],"name":"ItemDeleted","type":"event"},{"inputs":[{"internalType":"string","name":"cid","type":"string"},{"internalType":"string","name":"title","type":"string"}],"name":"createItem","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"itemId","type":"uint256"}],"name":"deleteItem","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getMyItems","outputs":[{"components":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"string","name":"cid","type":"string"},{"internalType":"string","name":"title","type":"string"},{"internalType":"uint256","name":"created","type":"uint256"}],"internalType":"struct Vault.Item[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"items","outputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"string","name":"cid","type":"string"},{"internalType":"string","name":"title","type":"string"},{"internalType":"uint256","name":"created","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"ownerToItems","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}],"contractName":"Vault","deploymentBytecode":{"bytecode":"0x6080604052348015600e575f5ffd5b50610be58061001c5f395ff3fe608060405234801561000f575f5ffd5b5060043610610055575f3560e01c8063654fc83314610059578063acc698731461006e578063bfb231d214610094578063c5fb207d146100b7578063e03fd74c146100cc575b5f5ffd5b61006c6100673660046107ae565b6100df565b005b61008161007c3660046107c5565b6101d3565b6040519081526020015b60405180910390f35b6100a76100a23660046107ae565b6101fe565b60405161008b9493929190610828565b6100bf61034d565b60405161008b919061086f565b61006c6100da36600461095e565b6105e3565b336001600160a01b03165f82815481106100fb576100fb6109ca565b5f9182526020909120600490910201546001600160a01b0316146101515760405162461bcd60e51b81526020600482015260096024820152682737ba1037bbb732b960b91b604482015260640160405180910390fd5b5f8181548110610163576101636109ca565b5f9182526020822060049091020180546001600160a01b03191681559061018d600183018261075c565b61019a600283015f61075c565b505f600391909101819055604051339183917f9b589d4dfb81ae7acb7d4f028ed8be6d247247fe765ebbcd79279e3a28790f2e9190a350565b6001602052815f5260405f2081815481106101ec575f80fd5b905f5260205f20015f91509150505481565b5f818154811061020c575f80fd5b5f918252602090912060049091020180546001820180546001600160a01b0390921693509061023a906109de565b80601f0160208091040260200160405190810160405280929190818152602001828054610266906109de565b80156102b15780601f10610288576101008083540402835291602001916102b1565b820191905f5260205f20905b81548152906001019060200180831161029457829003601f168201915b5050505050908060020180546102c6906109de565b80601f01602080910402602001604051908101604052809291908181526020018280546102f2906109de565b801561033d5780601f106103145761010080835404028352916020019161033d565b820191905f5260205f20905b81548152906001019060200180831161032057829003601f168201915b5050505050908060030154905084565b335f9081526001602090815260408083208054825181850281018501909352808352606094938301828280156103a057602002820191905f5260205f20905b81548152602001906001019080831161038c575b505050505090505f815167ffffffffffffffff8111156103c2576103c2610a16565b60405190808252806020026020018201604052801561042557816020015b61041260405180608001604052805f6001600160a01b0316815260200160608152602001606081526020015f81525090565b8152602001906001900390816103e05790505b5090505f5b82518110156105dc575f838281518110610446576104466109ca565b60200260200101518154811061045e5761045e6109ca565b5f918252602091829020604080516080810190915260049092020180546001600160a01b03168252600181018054929391929184019161049d906109de565b80601f01602080910402602001604051908101604052809291908181526020018280546104c9906109de565b80156105145780601f106104eb57610100808354040283529160200191610514565b820191905f5260205f20905b8154815290600101906020018083116104f757829003601f168201915b5050505050815260200160028201805461052d906109de565b80601f0160208091040260200160405190810160405280929190818152602001828054610559906109de565b80156105a45780601f1061057b576101008083540402835291602001916105a4565b820191905f5260205f20905b81548152906001019060200180831161058757829003601f168201915b505050505081526020016003820154815250508282815181106105c9576105c96109ca565b602090810291909101015260010161042a565b5092915050565b5f6040518060800160405280336001600160a01b0316815260200186868080601f0160208091040260200160405190810160405280939291908181526020018383808284375f92019190915250505090825250604080516020601f8701819004810282018101909252858152918101919086908690819084018382808284375f9201829052509385525050426020938401525083546001808201865594825290829020835160049092020180546001600160a01b0319166001600160a01b039092169190911781559082015191929091908201906106c19082610a76565b50604082015160028201906106d69082610a76565b50606091909101516003909101555f80546106f390600190610b31565b335f818152600160208181526040808420805493840181558452922001839055519192509082907f492ed020ceefbf98fa397c98e691a930417875a66e7b5f6014018d970f13abef9061074d908990899089908990610b7e565b60405180910390a35050505050565b508054610768906109de565b5f825580601f10610777575050565b601f0160209004905f5260205f20908101906107939190610796565b50565b5b808211156107aa575f8155600101610797565b5090565b5f602082840312156107be575f5ffd5b5035919050565b5f5f604083850312156107d6575f5ffd5b82356001600160a01b03811681146107ec575f5ffd5b946020939093013593505050565b5f81518084528060208401602086015e5f602082860101526020601f19601f83011685010191505092915050565b6001600160a01b03851681526080602082018190525f9061084b908301866107fa565b828103604084015261085d81866107fa565b91505082606083015295945050505050565b5f602082016020835280845180835260408501915060408160051b8601019250602086015f5b8281101561090d57868503603f19018452815180516001600160a01b031686526020808201516080918801829052906108d0908801826107fa565b9050604082015187820360408901526108e982826107fa565b60609384015198909301979097525094506020938401939190910190600101610895565b50929695505050505050565b5f5f83601f840112610929575f5ffd5b50813567ffffffffffffffff811115610940575f5ffd5b602083019150836020828501011115610957575f5ffd5b9250929050565b5f5f5f5f60408587031215610971575f5ffd5b843567ffffffffffffffff811115610987575f5ffd5b61099387828801610919565b909550935050602085013567ffffffffffffffff8111156109b2575f5ffd5b6109be87828801610919565b95989497509550505050565b634e487b7160e01b5f52603260045260245ffd5b600181811c908216806109f257607f821691505b602082108103610a1057634e487b7160e01b5f52602260045260245ffd5b50919050565b634e487b7160e01b5f52604160045260245ffd5b601f821115610a7157805f5260205f20601f840160051c81016020851015610a4f5750805b601f840160051c820191505b81811015610a6e575f8155600101610a5b565b50505b505050565b815167ffffffffffffffff811115610a9057610a90610a16565b610aa481610a9e84546109de565b84610a2a565b6020601f821160018114610ad6575f8315610abf5750848201515b5f19600385901b1c1916600184901b178455610a6e565b5f84815260208120601f198516915b82811015610b055787850151825560209485019460019092019101610ae5565b5084821015610b2257868401515f19600387901b60f8161c191681555b50505050600190811b01905550565b81810381811115610b5057634e487b7160e01b5f52601160045260245ffd5b92915050565b81835281816020850137505f828201602090810191909152601f909101601f19169091010190565b604081525f610b91604083018688610b56565b8281036020840152610ba4818587610b56565b97965050505050505056fea26469706673582212209214eca32da4cdecddece090d185e470a81fbecbd012f238a7c644b81557285a64736f6c634300081d0033"},"devdoc":{"kind":"dev","methods":{},"version":1},"methodIdentifiers":{"createItem(string,string)":"0xe03fd74c","deleteItem(uint256)":"0x654fc833","getMyItems()":"0xc5fb207d","items(uint256)":"0xbfb231d2","ownerToItems(address,uint256)":"0xacc69873"},"runtimeBytecode":{"bytecode":"0x608060405234801561000f575f5ffd5b5060043610610055575f3560e01c8063654fc83314610059578063acc698731461006e578063bfb231d214610094578063c5fb207d146100b7578063e03fd74c146100cc575b5f5ffd5b61006c6100673660046107ae565b6100df565b005b61008161007c3660046107c5565b6101d3565b6040519081526020015b60405180910390f35b6100a76100a23660046107ae565b6101fe565b60405161008b9493929190610828565b6100bf61034d565b60405161008b919061086f565b61006c6100da36600461095e565b6105e3565b336001600160a01b03165f82815481106100fb576100fb6109ca565b5f9182526020909120600490910201546001600160a01b0316146101515760405162461bcd60e51b81526020600482015260096024820152682737ba1037bbb732b960b91b604482015260640160405180910390fd5b5f8181548110610163576101636109ca565b5f9182526020822060049091020180546001600160a01b03191681559061018d600183018261075c565b61019a600283015f61075c565b505f600391909101819055604051339183917f9b589d4dfb81ae7acb7d4f028ed8be6d247247fe765ebbcd79279e3a28790f2e9190a350565b6001602052815f5260405f2081815481106101ec575f80fd5b905f5260205f20015f91509150505481565b5f818154811061020c575f80fd5b5f918252602090912060049091020180546001820180546001600160a01b0390921693509061023a906109de565b80601f0160208091040260200160405190810160405280929190818152602001828054610266906109de565b80156102b15780601f10610288576101008083540402835291602001916102b1565b820191905f5260205f20905b81548152906001019060200180831161029457829003601f168201915b5050505050908060020180546102c6906109de565b80601f01602080910402602001604051908101604052809291908181526020018280546102f2906109de565b801561033d5780601f106103145761010080835404028352916020019161033d565b820191905f5260205f20905b81548152906001019060200180831161032057829003601f168201915b5050505050908060030154905084565b335f9081526001602090815260408083208054825181850281018501909352808352606094938301828280156103a057602002820191905f5260205f20905b81548152602001906001019080831161038c575b505050505090505f815167ffffffffffffffff8111156103c2576103c2610a16565b60405190808252806020026020018201604052801561042557816020015b61041260405180608001604052805f6001600160a01b0316815260200160608152602001606081526020015f81525090565b8152602001906001900390816103e05790505b5090505f5b82518110156105dc575f838281518110610446576104466109ca565b60200260200101518154811061045e5761045e6109ca565b5f918252602091829020604080516080810190915260049092020180546001600160a01b03168252600181018054929391929184019161049d906109de565b80601f01602080910402602001604051908101604052809291908181526020018280546104c9906109de565b80156105145780601f106104eb57610100808354040283529160200191610514565b820191905f5260205f20905b8154815290600101906020018083116104f757829003601f168201915b5050505050815260200160028201805461052d906109de565b80601f0160208091040260200160405190810160405280929190818152602001828054610559906109de565b80156105a45780601f1061057b576101008083540402835291602001916105a4565b820191905f5260205f20905b81548152906001019060200180831161058757829003601f168201915b505050505081526020016003820154815250508282815181106105c9576105c96109ca565b602090810291909101015260010161042a565b5092915050565b5f6040518060800160405280336001600160a01b0316815260200186868080601f0160208091040260200160405190810160405280939291908181526020018383808284375f92019190915250505090825250604080516020601f8701819004810282018101909252858152918101919086908690819084018382808284375f9201829052509385525050426020938401525083546001808201865594825290829020835160049092020180546001600160a01b0319166001600160a01b039092169190911781559082015191929091908201906106c19082610a76565b50604082015160028201906106d69082610a76565b50606091909101516003909101555f80546106f390600190610b31565b335f818152600160208181526040808420805493840181558452922001839055519192509082907f492ed020ceefbf98fa397c98e691a930417875a66e7b5f6014018d970f13abef9061074d908990899089908990610b7e565b60405180910390a35050505050565b508054610768906109de565b5f825580601f10610777575050565b601f0160209004905f5260205f20908101906107939190610796565b50565b5b808211156107aa575f8155600101610797565b5090565b5f602082840312156107be575f5ffd5b5035919050565b5f5f604083850312156107d6575f5ffd5b82356001600160a01b03811681146107ec575f5ffd5b946020939093013593505050565b5f81518084528060208401602086015e5f602082860101526020601f19601f83011685010191505092915050565b6001600160a01b03851681526080602082018190525f9061084b908301866107fa565b828103604084015261085d81866107fa565b91505082606083015295945050505050565b5f602082016020835280845180835260408501915060408160051b8601019250602086015f5b8281101561090d57868503603f19018452815180516001600160a01b031686526020808201516080918801829052906108d0908801826107fa565b9050604082015187820360408901526108e982826107fa565b60609384015198909301979097525094506020938401939190910190600101610895565b50929695505050505050565b5f5f83601f840112610929575f5ffd5b50813567ffffffffffffffff811115610940575f5ffd5b602083019150836020828501011115610957575f5ffd5b9250929050565b5f5f5f5f60408587031215610971575f5ffd5b843567ffffffffffffffff811115610987575f5ffd5b61099387828801610919565b909550935050602085013567ffffffffffffffff8111156109b2575f5ffd5b6109be87828801610919565b95989497509550505050565b634e487b7160e01b5f52603260045260245ffd5b600181811c908216806109f257607f821691505b602082108103610a1057634e487b7160e01b5f52602260045260245ffd5b50919050565b634e487b7160e01b5f52604160045260245ffd5b601f821115610a7157805f5260205f20601f840160051c81016020851015610a4f5750805b601f840160051c820191505b81811015610a6e575f8155600101610a5b565b50505b505050565b815167ffffffffffffffff811115610a9057610a90610a16565b610aa481610a9e84546109de565b84610a2a565b6020601f821160018114610ad6575f8315610abf5750848201515b5f19600385901b1c1916600184901b178455610a6e565b5f84815260208120601f198516915b82811015610b055787850151825560209485019460019092019101610ae5565b5084821015610b2257868401515f19600387901b60f8161c191681555b50505050600190811b01905550565b81810381811115610b5057634e487b7160e01b5f52601160045260245ffd5b92915050565b81835281816020850137505f828201602090810191909152601f909101601f19169091010190565b604081525f610b91604083018688610b56565b8281036020840152610ba4818587610b56565b97965050505050505056fea26469706673582212209214eca32da4cdecddece090d185e470a81fbecbd012f238a7c644b81557285a64736f6c634300081d0033"},"sourceId":"contracts\\Vault.sol","sourcemap":"57:1229:0:-:0;;;;;;;;;;;;;;;;;;;","userdoc":{"kind":"user","methods":{},"version":1}}},"manifest":"ethpm/3","sources":{"contracts\\Vault.sol":{"content":"// SPDX-License-Identifier: MIT\npragma solidity ^0.8.0;\n\ncontract Vault {\n    struct Item {\n        address owner;\n        string cid;\n        string title;\n        uint256 created;\n    }\n\n    Item[] public items;\n    mapping(address => uint256[]) public ownerToItems;\n\n    event ItemCreated(\n        uint256 indexed itemId,\n        address indexed owner,\n        string cid,\n        string title\n    );\n    event ItemDeleted(uint256 indexed itemId, address indexed owner);\n\n    function createItem(string calldata cid, string calldata title) external {\n        items.push(Item(msg.sender, cid, title, block.timestamp));\n        uint256 itemId = items.length - 1;\n        ownerToItems[msg.sender].push(itemId);\n        emit ItemCreated(itemId, msg.sender, cid, title);\n    }\n\n    function getMyItems() external view returns (Item[] memory) {\n        uint256[] memory ids = ownerToItems[msg.sender];\n        Item[] memory myItems = new Item[](ids.length);\n        for (uint256 i = 0; i < ids.length; i++) {\n            myItems[i] = items[ids[i]];\n        }\n        return myItems;\n    }\n\n    function deleteItem(uint256 itemId) external {\n        require(items[itemId].owner == msg.sender, \"Not owner\");\n        delete items[itemId];\n        emit ItemDeleted(itemId, msg.sender);\n    }\n}\n","urls":[]}}}